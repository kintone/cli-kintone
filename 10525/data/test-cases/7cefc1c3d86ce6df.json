{"uid":"7cefc1c3d86ce6df","name":"Uploading plugin.zip","fullName":"features/plugin/upload.feature#Uploading plugin.zip","historyId":"588c68bc99085f5366c849b69b2293d8:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1761851365824,"stop":1761851366281,"duration":457},"description":"","status":"failed","statusMessage":"AssertionError [ERR_ASSERTION]: cli-kintone-linux-x64 plugin upload\n\nUpload a plugin to kintone\n[Experimental: This feature is under early development]\n\nOptions:\n      --log-level            The log config level\n           [choices: \"trace\", \"debug\", \"info\", \"warn\", \"error\", \"fatal\", \"none\"]\n                                                               [default: \"info\"]\n      --verbose              Set log config level to \"debug\"           [boolean]\n      --version              Show version number                       [boolean]\n      --help                 Show help                                 [boolean]\n      --base-url             Kintone Base Url\n                                 [string] [required] [default: KINTONE_BASE_URL]\n  -u, --username             Kintone Username\n                                            [string] [default: KINTONE_USERNAME]\n  -p, --password             Kintone Password\n                                            [string] [default: KINTONE_PASSWORD]\n      --basic-auth-username  Kintone Basic Auth Username\n                                 [string] [default: KINTONE_BASIC_AUTH_USERNAME]\n      --basic-auth-password  Kintone Basic Auth Password\n                                 [string] [default: KINTONE_BASIC_AUTH_PASSWORD]\n      --guest-space-id       The ID of guest space\n                                      [string] [default: KINTONE_GUEST_SPACE_ID]\n      --pfx-file-path        The path to client certificate file        [string]\n      --pfx-file-password    The password of client certificate file    [string]\n      --proxy                The URL of a proxy server\n                                                 [string] [default: HTTPS_PROXY]\n  -i, --input                The input plugin zip            [string] [required]\n  -y, --yes                  Skip confirmation        [boolean] [default: false]\n      --watch                Run in watch mode        [boolean] [default: false]\n\nUnknown argument: app\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"","status":"failed","statusMessage":"AssertionError [ERR_ASSERTION]: cli-kintone-linux-x64 plugin upload\n\nUpload a plugin to kintone\n[Experimental: This feature is under early development]\n\nOptions:\n      --log-level            The log config level\n           [choices: \"trace\", \"debug\", \"info\", \"warn\", \"error\", \"fatal\", \"none\"]\n                                                               [default: \"info\"]\n      --verbose              Set log config level to \"debug\"           [boolean]\n      --version              Show version number                       [boolean]\n      --help                 Show help                                 [boolean]\n      --base-url             Kintone Base Url\n                                 [string] [required] [default: KINTONE_BASE_URL]\n  -u, --username             Kintone Username\n                                            [string] [default: KINTONE_USERNAME]\n  -p, --password             Kintone Password\n                                            [string] [default: KINTONE_PASSWORD]\n      --basic-auth-username  Kintone Basic Auth Username\n                                 [string] [default: KINTONE_BASIC_AUTH_USERNAME]\n      --basic-auth-password  Kintone Basic Auth Password\n                                 [string] [default: KINTONE_BASIC_AUTH_PASSWORD]\n      --guest-space-id       The ID of guest space\n                                      [string] [default: KINTONE_GUEST_SPACE_ID]\n      --pfx-file-path        The path to client certificate file        [string]\n      --pfx-file-password    The password of client certificate file    [string]\n      --proxy                The URL of a proxy server\n                                                 [string] [default: HTTPS_PROXY]\n  -i, --input                The input plugin zip            [string] [required]\n  -y, --yes                  Skip confirmation        [boolean] [default: false]\n      --watch                Run in watch mode        [boolean] [default: false]\n\nUnknown argument: app\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","steps":[{"name":"Given The plugin with id \"chjjmgadianhfiopehkbjlfkfioglafk\" is not installed","time":{"start":1761851365827,"stop":1761851366029,"duration":202},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And An asset \"plugin.zip\" exists","time":{"start":1761851366029,"stop":1761851366030,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And Load username and password of user \"kintone_admin\" as env vars: \"USERNAME\" and \"PASSWORD\"","time":{"start":1761851366030,"stop":1761851366031,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When I run the command with args \"plugin upload --input ./plugin.zip --yes --base-url $$TEST_KINTONE_BASE_URL --app 1 --username $USERNAME --password $PASSWORD\"","time":{"start":1761851366031,"stop":1761851366275,"duration":244},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then I should get the exit code is zero","time":{"start":1761851366275,"stop":1761851366280,"duration":5},"status":"failed","statusMessage":"AssertionError [ERR_ASSERTION]: cli-kintone-linux-x64 plugin upload\n\nUpload a plugin to kintone\n[Experimental: This feature is under early development]\n\nOptions:\n      --log-level            The log config level\n           [choices: \"trace\", \"debug\", \"info\", \"warn\", \"error\", \"fatal\", \"none\"]\n                                                               [default: \"info\"]\n      --verbose              Set log config level to \"debug\"           [boolean]\n      --version              Show version number                       [boolean]\n      --help                 Show help                                 [boolean]\n      --base-url             Kintone Base Url\n                                 [string] [required] [default: KINTONE_BASE_URL]\n  -u, --username             Kintone Username\n                                            [string] [default: KINTONE_USERNAME]\n  -p, --password             Kintone Password\n                                            [string] [default: KINTONE_PASSWORD]\n      --basic-auth-username  Kintone Basic Auth Username\n                                 [string] [default: KINTONE_BASIC_AUTH_USERNAME]\n      --basic-auth-password  Kintone Basic Auth Password\n                                 [string] [default: KINTONE_BASIC_AUTH_PASSWORD]\n      --guest-space-id       The ID of guest space\n                                      [string] [default: KINTONE_GUEST_SPACE_ID]\n      --pfx-file-path        The path to client certificate file        [string]\n      --pfx-file-password    The password of client certificate file    [string]\n      --proxy                The URL of a proxy server\n                                                 [string] [default: HTTPS_PROXY]\n  -i, --input                The input plugin zip            [string] [required]\n  -y, --yes                  Skip confirmation        [boolean] [default: false]\n      --watch                Run in watch mode        [boolean] [default: false]\n\nUnknown argument: app\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"And The plugin with id \"chjjmgadianhfiopehkbjlfkfioglafk\" should be installed","time":{"start":1761851366280,"stop":1761851366280,"duration":0},"status":"skipped","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"runnervmwhb2z"},{"name":"language","value":"javascript"},{"name":"framework","value":"cucumberjs"},{"name":"thread","value":"2559"},{"name":"feature","value":"plugin upload"},{"name":"suite","value":"Uploading plugin.zip"},{"name":"tag","value":"@isolated"},{"name":"tag","value":"@plugin-upload"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"981ba0651f0c477f","reportUrl":"https://kintone.github.io/cli-kintone/10523//#testresult/981ba0651f0c477f","status":"failed","statusDetails":"KintoneRestAPIError: [404] [GAIA_PL09] Specified plug-in not found. (gntEMumrMOLHT1zGR5GH)\n    at KintoneResponseHandler.handleErrorResponse (/home/runner/work/cli-kintone/cli-kintone/node_modules/.pnpm/@kintone+rest-api-client@5.7.5/node_modules/@kintone/rest-api-client/src/KintoneResponseHandler.ts:48:11)\n    at /home/runner/work/cli-kintone/cli-kintone/node_modules/.pnpm/@kintone+rest-api-client@5.7.5/node_modules/@kintone/rest-api-client/src/KintoneResponseHandler.ts:18:23\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","time":{"start":1761850972203,"stop":1761850972409,"duration":206}}]},"tags":["@plugin-upload","@isolated"]},"source":"7cefc1c3d86ce6df.json","parameterValues":[]}