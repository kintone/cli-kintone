{"uid":"7016b6f911362418","name":"Multiple attachments on a field","fullName":"features/record/import.feature#Multiple attachments on a field","historyId":"ce882fead182107f9df3aa746720e164:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1765730411912,"stop":1765730422630,"duration":10718},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"","status":"passed","steps":[{"name":"Given The app \"app_for_import_attachments\" has no records","time":{"start":1765730411912,"stop":1765730413229,"duration":1317},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file1.txt\" with content: \"123\"","time":{"start":1765730413229,"stop":1765730413230,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file2.txt\" with content: \"abc\"","time":{"start":1765730413230,"stop":1765730413232,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The CSV file \"CliKintoneTest-37.csv\" with content as below:","time":{"start":1765730413232,"stop":1765730413233,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"10fe953bf17c0c23","name":"Data table","source":"10fe953bf17c0c23.csv","type":"text/csv","size":42}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And Load app ID of the app \"app_for_import_attachments\" as env var: \"APP_ID\"","time":{"start":1765730413233,"stop":1765730413234,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And Load app token of the app \"app_for_import_attachments\" with exact permissions \"add\" as env var: \"API_TOKEN\"","time":{"start":1765730413234,"stop":1765730413234,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When I run the command with args \"record import --base-url $$TEST_KINTONE_BASE_URL --app $APP_ID --api-token $API_TOKEN --attachments-dir ./attachments --file-path CliKintoneTest-37.csv\"","time":{"start":1765730413234,"stop":1765730415862,"duration":2628},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then I should get the exit code is zero","time":{"start":1765730415862,"stop":1765730415862,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have records as below:","time":{"start":1765730415862,"stop":1765730417761,"duration":1899},"status":"passed","steps":[],"attachments":[{"uid":"4a452331bae95ef4","name":"Data table","source":"4a452331bae95ef4.csv","type":"text/csv","size":42}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have attachments as below:","time":{"start":1765730417761,"stop":1765730422630,"duration":4869},"status":"passed","steps":[],"attachments":[{"uid":"f3edd2d4787c0d68","name":"Data table","source":"f3edd2d4787c0d68.csv","type":"text/csv","size":99}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":10,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"runnervm6qbrg"},{"name":"language","value":"javascript"},{"name":"framework","value":"cucumberjs"},{"name":"thread","value":"1"},{"name":"feature","value":"record import"},{"name":"suite","value":"Multiple attachments on a field"},{"name":"tag","value":"@isolated"},{"name":"tag","value":"@import"},{"name":"tag","value":"@serial(app_for_import_attachments)"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":7,"broken":0,"skipped":0,"passed":509,"unknown":0,"total":516},"items":[{"uid":"a6df2fe0972a5f96","reportUrl":"https://kintone.github.io/cli-kintone/11208/#testresult/a6df2fe0972a5f96","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:40:02.728Z] INFO: Starting to import records...\n[2025-12-13T18:40:09.474Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:40:09.474Z] WARN: path: file1.txt\n[2025-12-13T18:40:09.474Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (sP5aOeRvWpxcHw5W4VCj)\n[2025-12-13T18:40:09.474Z] WARN: Retrying request after 1758 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:40:18.352Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:40:18.352Z] WARN: path: file1.txt\n[2025-12-13T18:40:18.352Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (RJBCMTlST9hCuGtfi0wR)\n[2025-12-13T18:40:18.352Z] WARN: Retrying request after 2075 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:40:27.490Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:40:27.490Z] WARN: path: file1.txt\n[2025-12-13T18:40:27.490Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (15ChqP6UpkZPAxXcIa5m)\n[2025-12-13T18:40:27.490Z] WARN: Retrying request after 4062 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:40:36.783Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:40:36.783Z] WARN: path: file1.txt\n[2025-12-13T18:40:36.783Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (ZEATf6ZKy2QidXCxdEnM)\n[2025-12-13T18:40:36.783Z] WARN: Retrying request after 8405 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:40:53.235Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:40:53.235Z] WARN: path: file1.txt\n[2025-12-13T18:40:53.235Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (rh5y1EugOJlpc0w2QwQQ)\n[2025-12-13T18:40:53.235Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:40:53.235Z] WARN: Retrying request after 16760 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:40:53.236Z] INFO: Imported 0 of 1 records successfully\n[2025-12-13T18:40:53.236Z] ERROR: Failed to add all records.\n[2025-12-13T18:40:53.236Z] ERROR: No records are processed successfully.\n[2025-12-13T18:40:53.236Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (rh5y1EugOJlpc0w2QwQQ)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765651201246,"stop":1765651253243,"duration":51997}},{"uid":"92ab526c2e58343","reportUrl":"https://kintone.github.io/cli-kintone/11207/#testresult/92ab526c2e58343","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:34:23.495Z] INFO: Starting to import records...\n[2025-12-13T18:34:29.884Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:34:29.884Z] WARN: path: file1.txt\n[2025-12-13T18:34:29.884Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (BdHYds6RT3ADG2qjrYii)\n[2025-12-13T18:34:29.884Z] WARN: Retrying request after 1186 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:34:38.537Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:34:38.537Z] WARN: path: file1.txt\n[2025-12-13T18:34:38.538Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (s7UYus0vxyNDbbY5etis)\n[2025-12-13T18:34:38.538Z] WARN: Retrying request after 2250 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:34:46.135Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:34:46.135Z] WARN: path: file1.txt\n[2025-12-13T18:34:46.135Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (trESoAtxZqUNhgriiVE5)\n[2025-12-13T18:34:46.135Z] WARN: Retrying request after 4532 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:34:58.904Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:34:58.904Z] WARN: path: file1.txt\n[2025-12-13T18:34:58.904Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (BKm6nyJL4OQgvItDhhX5)\n[2025-12-13T18:34:58.904Z] WARN: Retrying request after 8702 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:35:13.005Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:35:13.006Z] WARN: path: file1.txt\n[2025-12-13T18:35:13.006Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (BYCjUp3xbnFTuAj6tGIs)\n[2025-12-13T18:35:13.006Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:35:13.006Z] WARN: Retrying request after 16491 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:35:13.006Z] INFO: Imported 0 of 1 records successfully\n[2025-12-13T18:35:13.006Z] ERROR: Failed to add all records.\n[2025-12-13T18:35:13.006Z] ERROR: No records are processed successfully.\n[2025-12-13T18:35:13.006Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (BYCjUp3xbnFTuAj6tGIs)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765650862056,"stop":1765650913014,"duration":50958}},{"uid":"7044ce8962d7dce3","reportUrl":"https://kintone.github.io/cli-kintone/11200/#testresult/7044ce8962d7dce3","status":"passed","time":{"start":1765580904108,"stop":1765580913781,"duration":9673}},{"uid":"a13762c9f6999c4b","reportUrl":"https://kintone.github.io/cli-kintone/11195/#testresult/a13762c9f6999c4b","status":"passed","time":{"start":1765580279999,"stop":1765580290731,"duration":10732}},{"uid":"4713bb298a869435","reportUrl":"https://kintone.github.io/cli-kintone/11183/#testresult/4713bb298a869435","status":"passed","time":{"start":1765579488296,"stop":1765579499109,"duration":10813}},{"uid":"5ca1c91fded916a3","reportUrl":"https://kintone.github.io/cli-kintone/11172/#testresult/5ca1c91fded916a3","status":"passed","time":{"start":1765490314168,"stop":1765490325026,"duration":10858}},{"uid":"3016697ac95fb964","reportUrl":"https://kintone.github.io/cli-kintone/11163/#testresult/3016697ac95fb964","status":"passed","time":{"start":1765445576566,"stop":1765445585290,"duration":8724}},{"uid":"5ad38067f18f5149","reportUrl":"https://kintone.github.io/cli-kintone/11160/#testresult/5ad38067f18f5149","status":"passed","time":{"start":1765439281678,"stop":1765439292697,"duration":11019}},{"uid":"9ce0684088af0ef2","reportUrl":"https://kintone.github.io/cli-kintone/11159/#testresult/9ce0684088af0ef2","status":"passed","time":{"start":1765437247008,"stop":1765437256628,"duration":9620}},{"uid":"9517533ba4616a0","reportUrl":"https://kintone.github.io/cli-kintone/11158/#testresult/9517533ba4616a0","status":"passed","time":{"start":1765436865416,"stop":1765436873656,"duration":8240}},{"uid":"da6eb2a14aa04265","reportUrl":"https://kintone.github.io/cli-kintone/11156/#testresult/da6eb2a14aa04265","status":"passed","time":{"start":1765436533056,"stop":1765436541431,"duration":8375}},{"uid":"93d1ef89914a6241","reportUrl":"https://kintone.github.io/cli-kintone/11155/#testresult/93d1ef89914a6241","status":"passed","time":{"start":1765435580393,"stop":1765435589431,"duration":9038}},{"uid":"a3430adfb193d623","reportUrl":"https://kintone.github.io/cli-kintone/11154/#testresult/a3430adfb193d623","status":"passed","time":{"start":1765435438663,"stop":1765435448243,"duration":9580}},{"uid":"9d7dbb8191116c4e","reportUrl":"https://kintone.github.io/cli-kintone/11151/#testresult/9d7dbb8191116c4e","status":"passed","time":{"start":1765435098979,"stop":1765435109625,"duration":10646}},{"uid":"4e266305bd341d4b","reportUrl":"https://kintone.github.io/cli-kintone/11150/#testresult/4e266305bd341d4b","status":"passed","time":{"start":1765418691256,"stop":1765418700025,"duration":8769}},{"uid":"9306ca53b1ede6a1","reportUrl":"https://kintone.github.io/cli-kintone/11147/#testresult/9306ca53b1ede6a1","status":"passed","time":{"start":1765357895338,"stop":1765357904917,"duration":9579}},{"uid":"6952cd62855e2055","reportUrl":"https://kintone.github.io/cli-kintone/11149/#testresult/6952cd62855e2055","status":"passed","time":{"start":1765358662753,"stop":1765358670982,"duration":8229}},{"uid":"1870291d686b0fa7","reportUrl":"https://kintone.github.io/cli-kintone/11148/#testresult/1870291d686b0fa7","status":"passed","time":{"start":1765358328108,"stop":1765358336446,"duration":8338}},{"uid":"31a41b66ca51bb3f","reportUrl":"https://kintone.github.io/cli-kintone/11146/#testresult/31a41b66ca51bb3f","status":"passed","time":{"start":1765350024972,"stop":1765350033382,"duration":8410}},{"uid":"72c8d9b59e2959d7","reportUrl":"https://kintone.github.io/cli-kintone/11145/#testresult/72c8d9b59e2959d7","status":"passed","time":{"start":1765243143210,"stop":1765243154378,"duration":11168}}]},"tags":["@serial(app_for_import_attachments)","@isolated","@import"]},"source":"7016b6f911362418.json","parameterValues":[]}