{"uid":"9d177d18006a2dd2","name":"Attachments on multiple records","fullName":"features/record/import.feature#Attachments on multiple records","historyId":"69658f59905d4ea506c7b574c4b2e647:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1765730435924,"stop":1765730453689,"duration":17765},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"","status":"passed","steps":[{"name":"Given The app \"app_for_import_attachments\" has no records","time":{"start":1765730435924,"stop":1765730437305,"duration":1381},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file1.txt\" with content: \"123\"","time":{"start":1765730437305,"stop":1765730437306,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file2.txt\" with content: \"456\"","time":{"start":1765730437306,"stop":1765730437308,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file3.txt\" with content: \"abc\"","time":{"start":1765730437308,"stop":1765730437308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file4.txt\" with content: \"xyz\"","time":{"start":1765730437308,"stop":1765730437308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The CSV file \"CliKintoneTest-39.csv\" with content as below:","time":{"start":1765730437308,"stop":1765730437309,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"8dea243835a587a8","name":"Data table","source":"8dea243835a587a8.csv","type":"text/csv","size":67}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And Load app ID of the app \"app_for_import_attachments\" as env var: \"APP_ID\"","time":{"start":1765730437309,"stop":1765730437309,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And Load app token of the app \"app_for_import_attachments\" with exact permissions \"add\" as env var: \"API_TOKEN\"","time":{"start":1765730437309,"stop":1765730437309,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When I run the command with args \"record import --base-url $$TEST_KINTONE_BASE_URL --app $APP_ID --api-token $API_TOKEN --attachments-dir ./attachments --file-path CliKintoneTest-39.csv\"","time":{"start":1765730437309,"stop":1765730441155,"duration":3846},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then I should get the exit code is zero","time":{"start":1765730441155,"stop":1765730441155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have records as below:","time":{"start":1765730441155,"stop":1765730443080,"duration":1925},"status":"passed","steps":[],"attachments":[{"uid":"1a7e050c32e05130","name":"Data table","source":"1a7e050c32e05130.csv","type":"text/csv","size":67}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have attachments as below:","time":{"start":1765730443080,"stop":1765730453688,"duration":10608},"status":"passed","steps":[],"attachments":[{"uid":"c5bffdf735a824ad","name":"Data table","source":"c5bffdf735a824ad.csv","type":"text/csv","size":153}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":12,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"runnervm6qbrg"},{"name":"language","value":"javascript"},{"name":"framework","value":"cucumberjs"},{"name":"thread","value":"1"},{"name":"feature","value":"record import"},{"name":"suite","value":"Attachments on multiple records"},{"name":"tag","value":"@isolated"},{"name":"tag","value":"@import"},{"name":"tag","value":"@serial(app_for_import_attachments)"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":510,"unknown":0,"total":516},"items":[{"uid":"29124a7fcd1df381","reportUrl":"https://kintone.github.io/cli-kintone/11208/#testresult/29124a7fcd1df381","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:41:50.942Z] INFO: Starting to import records...\n[2025-12-13T18:41:58.843Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:41:58.843Z] WARN: path: file1.txt\n[2025-12-13T18:41:58.843Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (fVGQZIEoo6Colnm0v6xR)\n[2025-12-13T18:41:58.843Z] WARN: Retrying request after 1879 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:42:08.088Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:42:08.088Z] WARN: path: file1.txt\n[2025-12-13T18:42:08.088Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (uUi57adfjctQTubqR1Zr)\n[2025-12-13T18:42:08.088Z] WARN: Retrying request after 2017 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:42:17.119Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:42:17.119Z] WARN: path: file1.txt\n[2025-12-13T18:42:17.119Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (o7QFYAeAdDSze0Pov3ST)\n[2025-12-13T18:42:17.119Z] WARN: Retrying request after 4993 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:42:28.186Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:42:28.186Z] WARN: path: file1.txt\n[2025-12-13T18:42:28.186Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (cjTmXoMndGfuYNoR8fru)\n[2025-12-13T18:42:28.186Z] WARN: Retrying request after 8531 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:42:41.702Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:42:41.702Z] WARN: path: file1.txt\n[2025-12-13T18:42:41.702Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (CmyHyuqSMmFlksjhGn91)\n[2025-12-13T18:42:41.702Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:42:41.702Z] WARN: Retrying request after 16403 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:42:41.702Z] INFO: Imported 0 of 2 records successfully\n[2025-12-13T18:42:41.702Z] ERROR: Failed to add all records.\n[2025-12-13T18:42:41.702Z] ERROR: No records are processed successfully.\n[2025-12-13T18:42:41.702Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (CmyHyuqSMmFlksjhGn91)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765651309346,"stop":1765651361710,"duration":52364}},{"uid":"417eb70e1620530b","reportUrl":"https://kintone.github.io/cli-kintone/11207/#testresult/417eb70e1620530b","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:36:00.659Z] INFO: Starting to import records...\n[2025-12-13T18:36:06.121Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:06.121Z] WARN: path: file1.txt\n[2025-12-13T18:36:06.121Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (udZIjz0rpwpfAZ0wwM1B)\n[2025-12-13T18:36:06.121Z] WARN: Retrying request after 1862 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:36:15.103Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:15.103Z] WARN: path: file1.txt\n[2025-12-13T18:36:15.103Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (K0IFVvEINdVKuaXq8vYO)\n[2025-12-13T18:36:15.103Z] WARN: Retrying request after 2879 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:36:26.867Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:26.867Z] WARN: path: file1.txt\n[2025-12-13T18:36:26.867Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (ZAup8RbVzgb1qn1c593r)\n[2025-12-13T18:36:26.867Z] WARN: Retrying request after 4706 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:36:38.351Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:38.351Z] WARN: path: file1.txt\n[2025-12-13T18:36:38.351Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (0etqW6EiNNPqZAbgGLt4)\n[2025-12-13T18:36:38.351Z] WARN: Retrying request after 8477 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:36:52.626Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:52.627Z] WARN: path: file1.txt\n[2025-12-13T18:36:52.627Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (HKjYoENejxfBss3O5pKB)\n[2025-12-13T18:36:52.627Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:36:52.627Z] WARN: Retrying request after 16522 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:36:52.627Z] INFO: Imported 0 of 2 records successfully\n[2025-12-13T18:36:52.627Z] ERROR: Failed to add all records.\n[2025-12-13T18:36:52.627Z] ERROR: No records are processed successfully.\n[2025-12-13T18:36:52.627Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (HKjYoENejxfBss3O5pKB)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765650959168,"stop":1765651012635,"duration":53467}},{"uid":"e3b1854a2d6f404e","reportUrl":"https://kintone.github.io/cli-kintone/11200/#testresult/e3b1854a2d6f404e","status":"passed","time":{"start":1765580925583,"stop":1765580937154,"duration":11571}},{"uid":"7306009201cfdc30","reportUrl":"https://kintone.github.io/cli-kintone/11195/#testresult/7306009201cfdc30","status":"passed","time":{"start":1765580303867,"stop":1765580317091,"duration":13224}},{"uid":"3bcf3f46cb869576","reportUrl":"https://kintone.github.io/cli-kintone/11183/#testresult/3bcf3f46cb869576","status":"passed","time":{"start":1765579512483,"stop":1765579525777,"duration":13294}},{"uid":"5fcecfdae871726a","reportUrl":"https://kintone.github.io/cli-kintone/11172/#testresult/5fcecfdae871726a","status":"passed","time":{"start":1765490338256,"stop":1765490351620,"duration":13364}},{"uid":"6e744175a6654f4b","reportUrl":"https://kintone.github.io/cli-kintone/11163/#testresult/6e744175a6654f4b","status":"passed","time":{"start":1765445595838,"stop":1765445606353,"duration":10515}},{"uid":"eb5b0e1467c5bca4","reportUrl":"https://kintone.github.io/cli-kintone/11160/#testresult/eb5b0e1467c5bca4","status":"passed","time":{"start":1765439305852,"stop":1765439319199,"duration":13347}},{"uid":"a2daae352f6eec4b","reportUrl":"https://kintone.github.io/cli-kintone/11159/#testresult/a2daae352f6eec4b","status":"passed","time":{"start":1765437268396,"stop":1765437280170,"duration":11774}},{"uid":"f647917fe4b5eba4","reportUrl":"https://kintone.github.io/cli-kintone/11158/#testresult/f647917fe4b5eba4","status":"passed","time":{"start":1765436883789,"stop":1765436893544,"duration":9755}},{"uid":"6b75a13a5646cb54","reportUrl":"https://kintone.github.io/cli-kintone/11156/#testresult/6b75a13a5646cb54","status":"passed","time":{"start":1765436551420,"stop":1765436561599,"duration":10179}},{"uid":"579b63b81387e173","reportUrl":"https://kintone.github.io/cli-kintone/11155/#testresult/579b63b81387e173","status":"passed","time":{"start":1765435600329,"stop":1765435611231,"duration":10902}},{"uid":"f7041706e1cac9b","reportUrl":"https://kintone.github.io/cli-kintone/11154/#testresult/f7041706e1cac9b","status":"passed","time":{"start":1765435459929,"stop":1765435471713,"duration":11784}},{"uid":"5e1acb23f1133d0a","reportUrl":"https://kintone.github.io/cli-kintone/11151/#testresult/5e1acb23f1133d0a","status":"passed","time":{"start":1765435123439,"stop":1765435136841,"duration":13402}},{"uid":"cb2e285b9f16e0bc","reportUrl":"https://kintone.github.io/cli-kintone/11150/#testresult/cb2e285b9f16e0bc","status":"passed","time":{"start":1765418710301,"stop":1765418720433,"duration":10132}},{"uid":"a25275defdcd2ca","reportUrl":"https://kintone.github.io/cli-kintone/11147/#testresult/a25275defdcd2ca","status":"passed","time":{"start":1765357916581,"stop":1765357928068,"duration":11487}},{"uid":"1fa659824e05d6a8","reportUrl":"https://kintone.github.io/cli-kintone/11149/#testresult/1fa659824e05d6a8","status":"passed","time":{"start":1765358680975,"stop":1765358690795,"duration":9820}},{"uid":"4e9e85a131a94197","reportUrl":"https://kintone.github.io/cli-kintone/11148/#testresult/4e9e85a131a94197","status":"passed","time":{"start":1765358346760,"stop":1765358356693,"duration":9933}},{"uid":"7ecbf25558d06ef0","reportUrl":"https://kintone.github.io/cli-kintone/11146/#testresult/7ecbf25558d06ef0","status":"passed","time":{"start":1765350043650,"stop":1765350053875,"duration":10225}},{"uid":"9d898a416b85c6e3","reportUrl":"https://kintone.github.io/cli-kintone/11145/#testresult/9d898a416b85c6e3","status":"passed","time":{"start":1765243168374,"stop":1765243182162,"duration":13788}}]},"tags":["@serial(app_for_import_attachments)","@isolated","@import"]},"source":"9d177d18006a2dd2.json","parameterValues":[]}