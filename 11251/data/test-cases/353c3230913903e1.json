{"uid":"353c3230913903e1","name":"Record with an attachment file","fullName":"features/record/import.feature#Record with an attachment file","historyId":"4efca68021620ffb6e015077d896eb1e:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1765776739574,"stop":1765776749431,"duration":9857},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"","status":"passed","steps":[{"name":"Given The app \"app_for_import_attachments\" has no records","time":{"start":1765776739575,"stop":1765776741030,"duration":1455},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file1.txt\" with content: \"123\"","time":{"start":1765776741030,"stop":1765776741037,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The CSV file \"CliKintoneTest-35.csv\" with content as below:","time":{"start":1765776741037,"stop":1765776741039,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"273a1112a17d22eb","name":"Data table","source":"273a1112a17d22eb.csv","type":"text/csv","size":42}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And Load app ID of the app \"app_for_import_attachments\" as env var: \"APP_ID\"","time":{"start":1765776741039,"stop":1765776741039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And Load app token of the app \"app_for_import_attachments\" with exact permissions \"add\" as env var: \"API_TOKEN_IMPORT\"","time":{"start":1765776741039,"stop":1765776741039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When I run the command with args \"record import --base-url $$TEST_KINTONE_BASE_URL --app $APP_ID --api-token $API_TOKEN_IMPORT --attachments-dir ./attachments --file-path CliKintoneTest-35.csv\"","time":{"start":1765776741039,"stop":1765776743202,"duration":2163},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then I should get the exit code is zero","time":{"start":1765776743202,"stop":1765776743202,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have records as below:","time":{"start":1765776743202,"stop":1765776745187,"duration":1985},"status":"passed","steps":[],"attachments":[{"uid":"362969456a064d01","name":"Data table","source":"362969456a064d01.csv","type":"text/csv","size":42}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have attachments as below:","time":{"start":1765776745187,"stop":1765776749431,"duration":4244},"status":"passed","steps":[],"attachments":[{"uid":"87cab32105be91b7","name":"Data table","source":"87cab32105be91b7.csv","type":"text/csv","size":72}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":9,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"runnervm6qbrg"},{"name":"language","value":"javascript"},{"name":"framework","value":"cucumberjs"},{"name":"thread","value":"7"},{"name":"feature","value":"record import"},{"name":"suite","value":"Record with an attachment file"},{"name":"tag","value":"@isolated"},{"name":"tag","value":"@import"},{"name":"tag","value":"@serial(app_for_import_attachments)"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":519,"unknown":0,"total":525},"items":[{"uid":"3c36cdeda8ecc50","reportUrl":"https://kintone.github.io/cli-kintone/11250/#testresult/3c36cdeda8ecc50","status":"passed","time":{"start":1765775587662,"stop":1765775597259,"duration":9597}},{"uid":"1976e0c66d9da567","reportUrl":"https://kintone.github.io/cli-kintone/11249/#testresult/1976e0c66d9da567","status":"passed","time":{"start":1765775452006,"stop":1765775460098,"duration":8092}},{"uid":"dfc64783c861c1ac","reportUrl":"https://kintone.github.io/cli-kintone/11246/#testresult/dfc64783c861c1ac","status":"passed","time":{"start":1765772399894,"stop":1765772408843,"duration":8949}},{"uid":"dab2bcda86f4d0a5","reportUrl":"https://kintone.github.io/cli-kintone/11245/#testresult/dab2bcda86f4d0a5","status":"passed","time":{"start":1765771912846,"stop":1765771921156,"duration":8310}},{"uid":"ffbedca7a6156f82","reportUrl":"https://kintone.github.io/cli-kintone/11244/#testresult/ffbedca7a6156f82","status":"passed","time":{"start":1765770091311,"stop":1765770101354,"duration":10043}},{"uid":"a3784c891708e043","reportUrl":"https://kintone.github.io/cli-kintone/11243/#testresult/a3784c891708e043","status":"passed","time":{"start":1765769594775,"stop":1765769604776,"duration":10001}},{"uid":"7b7894041e39bf7f","reportUrl":"https://kintone.github.io/cli-kintone/11238/#testresult/7b7894041e39bf7f","status":"passed","time":{"start":1765731289053,"stop":1765731299179,"duration":10126}},{"uid":"abe318865e75c46e","reportUrl":"https://kintone.github.io/cli-kintone/11218/#testresult/abe318865e75c46e","status":"passed","time":{"start":1765730552900,"stop":1765730562710,"duration":9810}},{"uid":"6df24f8dd6442ff","reportUrl":"https://kintone.github.io/cli-kintone/11217/#testresult/6df24f8dd6442ff","status":"passed","time":{"start":1765730402620,"stop":1765730411908,"duration":9288}},{"uid":"44ffefced4064390","reportUrl":"https://kintone.github.io/cli-kintone/11208/#testresult/44ffefced4064390","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:39:11.951Z] INFO: Starting to import records...\n[2025-12-13T18:39:17.999Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:39:17.999Z] WARN: path: file1.txt\n[2025-12-13T18:39:17.999Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (4E7DxU5mmloWNnBIZhpX)\n[2025-12-13T18:39:17.999Z] WARN: Retrying request after 1058 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:39:24.585Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:39:24.585Z] WARN: path: file1.txt\n[2025-12-13T18:39:24.585Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (mIHNoh1BgC54inKZ0Zk5)\n[2025-12-13T18:39:24.585Z] WARN: Retrying request after 2999 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:39:34.855Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:39:34.855Z] WARN: path: file1.txt\n[2025-12-13T18:39:34.855Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (dtWkShjPoYq7zdbBx7GO)\n[2025-12-13T18:39:34.855Z] WARN: Retrying request after 4738 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:39:46.475Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:39:46.475Z] WARN: path: file1.txt\n[2025-12-13T18:39:46.475Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (jjEd8ZOmlT7cJMDt9aBx)\n[2025-12-13T18:39:46.475Z] WARN: Retrying request after 8769 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:40:01.226Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:40:01.227Z] WARN: path: file1.txt\n[2025-12-13T18:40:01.227Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (I38tOXBDgn1L2C4rG2Qf)\n[2025-12-13T18:40:01.227Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:40:01.227Z] WARN: Retrying request after 16285 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:40:01.227Z] INFO: Imported 0 of 1 records successfully\n[2025-12-13T18:40:01.227Z] ERROR: Failed to add all records.\n[2025-12-13T18:40:01.227Z] ERROR: No records are processed successfully.\n[2025-12-13T18:40:01.227Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (I38tOXBDgn1L2C4rG2Qf)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765651150234,"stop":1765651201242,"duration":51008}},{"uid":"7bf547973e93429c","reportUrl":"https://kintone.github.io/cli-kintone/11207/#testresult/7bf547973e93429c","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:33:27.823Z] INFO: Starting to import records...\n[2025-12-13T18:33:36.547Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:33:36.548Z] WARN: path: file1.txt\n[2025-12-13T18:33:36.548Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (GYzNv92EpO1ChgSJ2G39)\n[2025-12-13T18:33:36.548Z] WARN: Retrying request after 1442 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:33:46.350Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:33:46.350Z] WARN: path: file1.txt\n[2025-12-13T18:33:46.351Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (DN8LU5HBHsZMZAKxFotJ)\n[2025-12-13T18:33:46.351Z] WARN: Retrying request after 2034 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:33:54.555Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:33:54.556Z] WARN: path: file1.txt\n[2025-12-13T18:33:54.556Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (AJwPrONLc8IJqBUzOjkQ)\n[2025-12-13T18:33:54.556Z] WARN: Retrying request after 4660 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:34:06.267Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:34:06.267Z] WARN: path: file1.txt\n[2025-12-13T18:34:06.267Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (Js0rs3G00VOUeyXmLjXA)\n[2025-12-13T18:34:06.267Z] WARN: Retrying request after 8518 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:34:22.038Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:34:22.038Z] WARN: path: file1.txt\n[2025-12-13T18:34:22.038Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (cOdV9vFYCjZbUfG4Flfc)\n[2025-12-13T18:34:22.038Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:34:22.038Z] WARN: Retrying request after 16228 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:34:22.038Z] INFO: Imported 0 of 1 records successfully\n[2025-12-13T18:34:22.039Z] ERROR: Failed to add all records.\n[2025-12-13T18:34:22.039Z] ERROR: No records are processed successfully.\n[2025-12-13T18:34:22.039Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (cOdV9vFYCjZbUfG4Flfc)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765650805702,"stop":1765650862053,"duration":56351}},{"uid":"a8bb56284ea113e3","reportUrl":"https://kintone.github.io/cli-kintone/11200/#testresult/a8bb56284ea113e3","status":"passed","time":{"start":1765580895542,"stop":1765580904103,"duration":8561}},{"uid":"203800d508ed005f","reportUrl":"https://kintone.github.io/cli-kintone/11195/#testresult/203800d508ed005f","status":"passed","time":{"start":1765580269795,"stop":1765580279994,"duration":10199}},{"uid":"fac7024ee4c209f5","reportUrl":"https://kintone.github.io/cli-kintone/11183/#testresult/fac7024ee4c209f5","status":"passed","time":{"start":1765579478287,"stop":1765579488292,"duration":10005}},{"uid":"719f65bc56c88498","reportUrl":"https://kintone.github.io/cli-kintone/11172/#testresult/719f65bc56c88498","status":"passed","time":{"start":1765490304332,"stop":1765490314162,"duration":9830}},{"uid":"1d05e63c6716aee8","reportUrl":"https://kintone.github.io/cli-kintone/11163/#testresult/1d05e63c6716aee8","status":"passed","time":{"start":1765445568049,"stop":1765445576560,"duration":8511}},{"uid":"6e5d328976854a94","reportUrl":"https://kintone.github.io/cli-kintone/11160/#testresult/6e5d328976854a94","status":"passed","time":{"start":1765439272153,"stop":1765439281673,"duration":9520}},{"uid":"4bf13a12b21278c4","reportUrl":"https://kintone.github.io/cli-kintone/11159/#testresult/4bf13a12b21278c4","status":"passed","time":{"start":1765437237919,"stop":1765437247000,"duration":9081}},{"uid":"1727ef7b7a5a132d","reportUrl":"https://kintone.github.io/cli-kintone/11158/#testresult/1727ef7b7a5a132d","status":"passed","time":{"start":1765436857529,"stop":1765436865412,"duration":7883}},{"uid":"e750222319db5e4a","reportUrl":"https://kintone.github.io/cli-kintone/11156/#testresult/e750222319db5e4a","status":"passed","time":{"start":1765436524843,"stop":1765436533045,"duration":8202}}]},"tags":["@serial(app_for_import_attachments)","@isolated","@import"]},"source":"353c3230913903e1.json","parameterValues":[]}