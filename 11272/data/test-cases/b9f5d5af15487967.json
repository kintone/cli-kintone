{"uid":"b9f5d5af15487967","name":"Attachments on multiple records","fullName":"features/record/import.feature#Attachments on multiple records","historyId":"69658f59905d4ea506c7b574c4b2e647:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1765862464703,"stop":1765862475701,"duration":10998},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"","status":"passed","steps":[{"name":"Given The app \"app_for_import_attachments\" has no records","time":{"start":1765862464703,"stop":1765862465881,"duration":1178},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file1.txt\" with content: \"123\"","time":{"start":1765862465881,"stop":1765862465881,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file2.txt\" with content: \"456\"","time":{"start":1765862465881,"stop":1765862465882,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file3.txt\" with content: \"abc\"","time":{"start":1765862465882,"stop":1765862465882,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file4.txt\" with content: \"xyz\"","time":{"start":1765862465882,"stop":1765862465883,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The CSV file \"CliKintoneTest-39.csv\" with content as below:","time":{"start":1765862465883,"stop":1765862465885,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"7fc136a48db9ebe5","name":"Data table","source":"7fc136a48db9ebe5.csv","type":"text/csv","size":67}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And Load app ID of the app \"app_for_import_attachments\" as env var: \"APP_ID\"","time":{"start":1765862465885,"stop":1765862465885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And Load app token of the app \"app_for_import_attachments\" with exact permissions \"add\" as env var: \"API_TOKEN\"","time":{"start":1765862465885,"stop":1765862465885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When I run the command with args \"record import --base-url $$TEST_KINTONE_BASE_URL --app $APP_ID --api-token $API_TOKEN --attachments-dir ./attachments --file-path CliKintoneTest-39.csv\"","time":{"start":1765862465885,"stop":1765862469063,"duration":3178},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then I should get the exit code is zero","time":{"start":1765862469063,"stop":1765862469063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have records as below:","time":{"start":1765862469063,"stop":1765862470737,"duration":1674},"status":"passed","steps":[],"attachments":[{"uid":"86d54c25de201da6","name":"Data table","source":"86d54c25de201da6.csv","type":"text/csv","size":67}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have attachments as below:","time":{"start":1765862470737,"stop":1765862475701,"duration":4964},"status":"passed","steps":[],"attachments":[{"uid":"323a5f13f59574c2","name":"Data table","source":"323a5f13f59574c2.csv","type":"text/csv","size":153}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":12,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"runnervm6qbrg"},{"name":"language","value":"javascript"},{"name":"framework","value":"cucumberjs"},{"name":"thread","value":"1"},{"name":"feature","value":"record import"},{"name":"suite","value":"Attachments on multiple records"},{"name":"tag","value":"@isolated"},{"name":"tag","value":"@import"},{"name":"tag","value":"@serial(app_for_import_attachments)"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":523,"unknown":0,"total":529},"items":[{"uid":"1ed4418aac2f70c5","reportUrl":"https://kintone.github.io/cli-kintone/11271/#testresult/1ed4418aac2f70c5","status":"passed","time":{"start":1765861753250,"stop":1765861766307,"duration":13057}},{"uid":"b9e470d88311f5ee","reportUrl":"https://kintone.github.io/cli-kintone/11270/#testresult/b9e470d88311f5ee","status":"passed","time":{"start":1765858961347,"stop":1765858973797,"duration":12450}},{"uid":"7b6e8292b4ec8fa4","reportUrl":"https://kintone.github.io/cli-kintone/11269/#testresult/7b6e8292b4ec8fa4","status":"passed","time":{"start":1765858394952,"stop":1765858408486,"duration":13534}},{"uid":"10f8284711eed6cf","reportUrl":"https://kintone.github.io/cli-kintone/11251/#testresult/10f8284711eed6cf","status":"passed","time":{"start":1765776773622,"stop":1765776786952,"duration":13330}},{"uid":"395ffc8d036d505d","reportUrl":"https://kintone.github.io/cli-kintone/11250/#testresult/395ffc8d036d505d","status":"passed","time":{"start":1765775619827,"stop":1765775632365,"duration":12538}},{"uid":"ad4698c85e88704f","reportUrl":"https://kintone.github.io/cli-kintone/11249/#testresult/ad4698c85e88704f","status":"passed","time":{"start":1765775479197,"stop":1765775489617,"duration":10420}},{"uid":"9891103b9507589f","reportUrl":"https://kintone.github.io/cli-kintone/11246/#testresult/9891103b9507589f","status":"passed","time":{"start":1765772430299,"stop":1765772441961,"duration":11662}},{"uid":"db9ae2e156b9e1b2","reportUrl":"https://kintone.github.io/cli-kintone/11245/#testresult/db9ae2e156b9e1b2","status":"passed","time":{"start":1765771939784,"stop":1765771949528,"duration":9744}},{"uid":"ba4874a62dc990e3","reportUrl":"https://kintone.github.io/cli-kintone/11244/#testresult/ba4874a62dc990e3","status":"passed","time":{"start":1765770125600,"stop":1765770138896,"duration":13296}},{"uid":"2996e4169390f1ab","reportUrl":"https://kintone.github.io/cli-kintone/11243/#testresult/2996e4169390f1ab","status":"passed","time":{"start":1765769628927,"stop":1765769642521,"duration":13594}},{"uid":"e2a0dcd50ce79e18","reportUrl":"https://kintone.github.io/cli-kintone/11238/#testresult/e2a0dcd50ce79e18","status":"passed","time":{"start":1765731323600,"stop":1765731336806,"duration":13206}},{"uid":"a22d8c3e822a22a4","reportUrl":"https://kintone.github.io/cli-kintone/11218/#testresult/a22d8c3e822a22a4","status":"passed","time":{"start":1765730586769,"stop":1765730600168,"duration":13399}},{"uid":"9d177d18006a2dd2","reportUrl":"https://kintone.github.io/cli-kintone/11217/#testresult/9d177d18006a2dd2","status":"passed","time":{"start":1765730435924,"stop":1765730453689,"duration":17765}},{"uid":"29124a7fcd1df381","reportUrl":"https://kintone.github.io/cli-kintone/11208/#testresult/29124a7fcd1df381","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:41:50.942Z] INFO: Starting to import records...\n[2025-12-13T18:41:58.843Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:41:58.843Z] WARN: path: file1.txt\n[2025-12-13T18:41:58.843Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (fVGQZIEoo6Colnm0v6xR)\n[2025-12-13T18:41:58.843Z] WARN: Retrying request after 1879 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:42:08.088Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:42:08.088Z] WARN: path: file1.txt\n[2025-12-13T18:42:08.088Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (uUi57adfjctQTubqR1Zr)\n[2025-12-13T18:42:08.088Z] WARN: Retrying request after 2017 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:42:17.119Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:42:17.119Z] WARN: path: file1.txt\n[2025-12-13T18:42:17.119Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (o7QFYAeAdDSze0Pov3ST)\n[2025-12-13T18:42:17.119Z] WARN: Retrying request after 4993 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:42:28.186Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:42:28.186Z] WARN: path: file1.txt\n[2025-12-13T18:42:28.186Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (cjTmXoMndGfuYNoR8fru)\n[2025-12-13T18:42:28.186Z] WARN: Retrying request after 8531 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:42:41.702Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:42:41.702Z] WARN: path: file1.txt\n[2025-12-13T18:42:41.702Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (CmyHyuqSMmFlksjhGn91)\n[2025-12-13T18:42:41.702Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:42:41.702Z] WARN: Retrying request after 16403 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:42:41.702Z] INFO: Imported 0 of 2 records successfully\n[2025-12-13T18:42:41.702Z] ERROR: Failed to add all records.\n[2025-12-13T18:42:41.702Z] ERROR: No records are processed successfully.\n[2025-12-13T18:42:41.702Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (CmyHyuqSMmFlksjhGn91)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765651309346,"stop":1765651361710,"duration":52364}},{"uid":"417eb70e1620530b","reportUrl":"https://kintone.github.io/cli-kintone/11207/#testresult/417eb70e1620530b","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:36:00.659Z] INFO: Starting to import records...\n[2025-12-13T18:36:06.121Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:06.121Z] WARN: path: file1.txt\n[2025-12-13T18:36:06.121Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (udZIjz0rpwpfAZ0wwM1B)\n[2025-12-13T18:36:06.121Z] WARN: Retrying request after 1862 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:36:15.103Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:15.103Z] WARN: path: file1.txt\n[2025-12-13T18:36:15.103Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (K0IFVvEINdVKuaXq8vYO)\n[2025-12-13T18:36:15.103Z] WARN: Retrying request after 2879 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:36:26.867Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:26.867Z] WARN: path: file1.txt\n[2025-12-13T18:36:26.867Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (ZAup8RbVzgb1qn1c593r)\n[2025-12-13T18:36:26.867Z] WARN: Retrying request after 4706 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:36:38.351Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:38.351Z] WARN: path: file1.txt\n[2025-12-13T18:36:38.351Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (0etqW6EiNNPqZAbgGLt4)\n[2025-12-13T18:36:38.351Z] WARN: Retrying request after 8477 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:36:52.626Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:36:52.627Z] WARN: path: file1.txt\n[2025-12-13T18:36:52.627Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (HKjYoENejxfBss3O5pKB)\n[2025-12-13T18:36:52.627Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:36:52.627Z] WARN: Retrying request after 16522 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:36:52.627Z] INFO: Imported 0 of 2 records successfully\n[2025-12-13T18:36:52.627Z] ERROR: Failed to add all records.\n[2025-12-13T18:36:52.627Z] ERROR: No records are processed successfully.\n[2025-12-13T18:36:52.627Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (HKjYoENejxfBss3O5pKB)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765650959168,"stop":1765651012635,"duration":53467}},{"uid":"e3b1854a2d6f404e","reportUrl":"https://kintone.github.io/cli-kintone/11200/#testresult/e3b1854a2d6f404e","status":"passed","time":{"start":1765580925583,"stop":1765580937154,"duration":11571}},{"uid":"7306009201cfdc30","reportUrl":"https://kintone.github.io/cli-kintone/11195/#testresult/7306009201cfdc30","status":"passed","time":{"start":1765580303867,"stop":1765580317091,"duration":13224}},{"uid":"3bcf3f46cb869576","reportUrl":"https://kintone.github.io/cli-kintone/11183/#testresult/3bcf3f46cb869576","status":"passed","time":{"start":1765579512483,"stop":1765579525777,"duration":13294}},{"uid":"5fcecfdae871726a","reportUrl":"https://kintone.github.io/cli-kintone/11172/#testresult/5fcecfdae871726a","status":"passed","time":{"start":1765490338256,"stop":1765490351620,"duration":13364}},{"uid":"6e744175a6654f4b","reportUrl":"https://kintone.github.io/cli-kintone/11163/#testresult/6e744175a6654f4b","status":"passed","time":{"start":1765445595838,"stop":1765445606353,"duration":10515}}]},"tags":["@serial(app_for_import_attachments)","@isolated","@import"]},"source":"b9f5d5af15487967.json","parameterValues":[]}