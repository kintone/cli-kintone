{"uid":"fe7118cf4f190056","name":"Record with an attachment file","fullName":"features/record/import.feature#Record with an attachment file","historyId":"4efca68021620ffb6e015077d896eb1e:d41d8cd98f00b204e9800998ecf8427e","time":{"start":1766066603736,"stop":1766066611273,"duration":7537},"description":"","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"description":"","status":"passed","steps":[{"name":"Given The app \"app_for_import_attachments\" has no records","time":{"start":1766066603737,"stop":1766066604852,"duration":1115},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And I have a file \"attachments/file1.txt\" with content: \"123\"","time":{"start":1766066604852,"stop":1766066604855,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The CSV file \"CliKintoneTest-35.csv\" with content as below:","time":{"start":1766066604855,"stop":1766066604856,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"e9f2bc927ccf387b","name":"Data table","source":"e9f2bc927ccf387b.csv","type":"text/csv","size":42}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And Load app ID of the app \"app_for_import_attachments\" as env var: \"APP_ID\"","time":{"start":1766066604857,"stop":1766066604859,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And Load app token of the app \"app_for_import_attachments\" with exact permissions \"add\" as env var: \"API_TOKEN_IMPORT\"","time":{"start":1766066604859,"stop":1766066604859,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"When I run the command with args \"record import --base-url $$TEST_KINTONE_BASE_URL --app $APP_ID --api-token $API_TOKEN_IMPORT --attachments-dir ./attachments --file-path CliKintoneTest-35.csv\"","time":{"start":1766066604859,"stop":1766066606487,"duration":1628},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Then I should get the exit code is zero","time":{"start":1766066606487,"stop":1766066606488,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have records as below:","time":{"start":1766066606494,"stop":1766066608029,"duration":1535},"status":"passed","steps":[],"attachments":[{"uid":"5622d44237a97a2f","name":"Data table","source":"5622d44237a97a2f.csv","type":"text/csv","size":42}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"And The app \"app_for_import_attachments\" should have attachments as below:","time":{"start":1766066608030,"stop":1766066611272,"duration":3242},"status":"passed","steps":[],"attachments":[{"uid":"56d1ee3a917cb340","name":"Data table","source":"56d1ee3a917cb340.csv","type":"text/csv","size":72}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":9,"shouldDisplayMessage":false,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"host","value":"runnervmh13bl"},{"name":"language","value":"javascript"},{"name":"framework","value":"cucumberjs"},{"name":"thread","value":"9"},{"name":"feature","value":"record import"},{"name":"suite","value":"Record with an attachment file"},{"name":"tag","value":"@isolated"},{"name":"tag","value":"@import"},{"name":"tag","value":"@serial(app_for_import_attachments)"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":0,"skipped":0,"passed":527,"unknown":0,"total":533},"items":[{"uid":"cb80feb35fb06f25","reportUrl":"https://kintone.github.io/cli-kintone/11289/#testresult/cb80feb35fb06f25","status":"passed","time":{"start":1765953767829,"stop":1765953777042,"duration":9213}},{"uid":"7f19af25ecab2481","reportUrl":"https://kintone.github.io/cli-kintone/11279/#testresult/7f19af25ecab2481","status":"passed","time":{"start":1765903673562,"stop":1765903683569,"duration":10007}},{"uid":"6f46a9e3f729693a","reportUrl":"https://kintone.github.io/cli-kintone/11273/#testresult/6f46a9e3f729693a","status":"passed","time":{"start":1765863509148,"stop":1765863518970,"duration":9822}},{"uid":"9e52e4632b5e342e","reportUrl":"https://kintone.github.io/cli-kintone/11272/#testresult/9e52e4632b5e342e","status":"passed","time":{"start":1765862435519,"stop":1765862444580,"duration":9061}},{"uid":"af330cf370092a6c","reportUrl":"https://kintone.github.io/cli-kintone/11271/#testresult/af330cf370092a6c","status":"passed","time":{"start":1765861721089,"stop":1765861730570,"duration":9481}},{"uid":"32b0d90a85904498","reportUrl":"https://kintone.github.io/cli-kintone/11270/#testresult/32b0d90a85904498","status":"passed","time":{"start":1765858929394,"stop":1765858938537,"duration":9143}},{"uid":"ddca82355a6d8a0","reportUrl":"https://kintone.github.io/cli-kintone/11269/#testresult/ddca82355a6d8a0","status":"passed","time":{"start":1765858360834,"stop":1765858370602,"duration":9768}},{"uid":"353c3230913903e1","reportUrl":"https://kintone.github.io/cli-kintone/11251/#testresult/353c3230913903e1","status":"passed","time":{"start":1765776739574,"stop":1765776749431,"duration":9857}},{"uid":"3c36cdeda8ecc50","reportUrl":"https://kintone.github.io/cli-kintone/11250/#testresult/3c36cdeda8ecc50","status":"passed","time":{"start":1765775587662,"stop":1765775597259,"duration":9597}},{"uid":"1976e0c66d9da567","reportUrl":"https://kintone.github.io/cli-kintone/11249/#testresult/1976e0c66d9da567","status":"passed","time":{"start":1765775452006,"stop":1765775460098,"duration":8092}},{"uid":"dfc64783c861c1ac","reportUrl":"https://kintone.github.io/cli-kintone/11246/#testresult/dfc64783c861c1ac","status":"passed","time":{"start":1765772399894,"stop":1765772408843,"duration":8949}},{"uid":"dab2bcda86f4d0a5","reportUrl":"https://kintone.github.io/cli-kintone/11245/#testresult/dab2bcda86f4d0a5","status":"passed","time":{"start":1765771912846,"stop":1765771921156,"duration":8310}},{"uid":"ffbedca7a6156f82","reportUrl":"https://kintone.github.io/cli-kintone/11244/#testresult/ffbedca7a6156f82","status":"passed","time":{"start":1765770091311,"stop":1765770101354,"duration":10043}},{"uid":"a3784c891708e043","reportUrl":"https://kintone.github.io/cli-kintone/11243/#testresult/a3784c891708e043","status":"passed","time":{"start":1765769594775,"stop":1765769604776,"duration":10001}},{"uid":"7b7894041e39bf7f","reportUrl":"https://kintone.github.io/cli-kintone/11238/#testresult/7b7894041e39bf7f","status":"passed","time":{"start":1765731289053,"stop":1765731299179,"duration":10126}},{"uid":"abe318865e75c46e","reportUrl":"https://kintone.github.io/cli-kintone/11218/#testresult/abe318865e75c46e","status":"passed","time":{"start":1765730552900,"stop":1765730562710,"duration":9810}},{"uid":"6df24f8dd6442ff","reportUrl":"https://kintone.github.io/cli-kintone/11217/#testresult/6df24f8dd6442ff","status":"passed","time":{"start":1765730402620,"stop":1765730411908,"duration":9288}},{"uid":"44ffefced4064390","reportUrl":"https://kintone.github.io/cli-kintone/11208/#testresult/44ffefced4064390","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:39:11.951Z] INFO: Starting to import records...\n[2025-12-13T18:39:17.999Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:39:17.999Z] WARN: path: file1.txt\n[2025-12-13T18:39:17.999Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (4E7DxU5mmloWNnBIZhpX)\n[2025-12-13T18:39:17.999Z] WARN: Retrying request after 1058 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:39:24.585Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:39:24.585Z] WARN: path: file1.txt\n[2025-12-13T18:39:24.585Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (mIHNoh1BgC54inKZ0Zk5)\n[2025-12-13T18:39:24.585Z] WARN: Retrying request after 2999 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:39:34.855Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:39:34.855Z] WARN: path: file1.txt\n[2025-12-13T18:39:34.855Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (dtWkShjPoYq7zdbBx7GO)\n[2025-12-13T18:39:34.855Z] WARN: Retrying request after 4738 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:39:46.475Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:39:46.475Z] WARN: path: file1.txt\n[2025-12-13T18:39:46.475Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (jjEd8ZOmlT7cJMDt9aBx)\n[2025-12-13T18:39:46.475Z] WARN: Retrying request after 8769 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:40:01.226Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:40:01.227Z] WARN: path: file1.txt\n[2025-12-13T18:40:01.227Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (I38tOXBDgn1L2C4rG2Qf)\n[2025-12-13T18:40:01.227Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:40:01.227Z] WARN: Retrying request after 16285 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:40:01.227Z] INFO: Imported 0 of 1 records successfully\n[2025-12-13T18:40:01.227Z] ERROR: Failed to add all records.\n[2025-12-13T18:40:01.227Z] ERROR: No records are processed successfully.\n[2025-12-13T18:40:01.227Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (I38tOXBDgn1L2C4rG2Qf)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765651150234,"stop":1765651201242,"duration":51008}},{"uid":"7bf547973e93429c","reportUrl":"https://kintone.github.io/cli-kintone/11207/#testresult/7bf547973e93429c","status":"failed","statusDetails":"AssertionError [ERR_ASSERTION]: [2025-12-13T18:33:27.823Z] INFO: Starting to import records...\n[2025-12-13T18:33:36.547Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:33:36.548Z] WARN: path: file1.txt\n[2025-12-13T18:33:36.548Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (GYzNv92EpO1ChgSJ2G39)\n[2025-12-13T18:33:36.548Z] WARN: Retrying request after 1442 milliseconds... (count: 1, limit: 5)\n[2025-12-13T18:33:46.350Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:33:46.350Z] WARN: path: file1.txt\n[2025-12-13T18:33:46.351Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (DN8LU5HBHsZMZAKxFotJ)\n[2025-12-13T18:33:46.351Z] WARN: Retrying request after 2034 milliseconds... (count: 2, limit: 5)\n[2025-12-13T18:33:54.555Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:33:54.556Z] WARN: path: file1.txt\n[2025-12-13T18:33:54.556Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (AJwPrONLc8IJqBUzOjkQ)\n[2025-12-13T18:33:54.556Z] WARN: Retrying request after 4660 milliseconds... (count: 3, limit: 5)\n[2025-12-13T18:34:06.267Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:34:06.267Z] WARN: path: file1.txt\n[2025-12-13T18:34:06.267Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (Js0rs3G00VOUeyXmLjXA)\n[2025-12-13T18:34:06.267Z] WARN: Retrying request after 8518 milliseconds... (count: 4, limit: 5)\n[2025-12-13T18:34:22.038Z] WARN: Failed to upload attachment file due to an error on kintone\n[2025-12-13T18:34:22.038Z] WARN: path: file1.txt\n[2025-12-13T18:34:22.038Z] WARN: KintoneRestAPIError: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (cOdV9vFYCjZbUfG4Flfc)\n[2025-12-13T18:34:22.038Z] ERROR: Retry limit reached (count: 5), limit: 5\n[2025-12-13T18:34:22.038Z] WARN: Retrying request after 16228 milliseconds... (count: 5, limit: 5)\n[2025-12-13T18:34:22.038Z] INFO: Imported 0 of 1 records successfully\n[2025-12-13T18:34:22.039Z] ERROR: Failed to add all records.\n[2025-12-13T18:34:22.039Z] ERROR: No records are processed successfully.\n[2025-12-13T18:34:22.039Z] ERROR: [500] [GAIA_CS02] An unexpected error occurred. Wait a while and try again. (cOdV9vFYCjZbUfG4Flfc)\n\n    + expected - actual\n\n    -1\n    +0\n\n    at OurWorld.<anonymous> (/home/runner/work/cli-kintone/cli-kintone/features/step_definitions/record/common.ts:223:10)","time":{"start":1765650805702,"stop":1765650862053,"duration":56351}},{"uid":"a8bb56284ea113e3","reportUrl":"https://kintone.github.io/cli-kintone/11200/#testresult/a8bb56284ea113e3","status":"passed","time":{"start":1765580895542,"stop":1765580904103,"duration":8561}}]},"tags":["@serial(app_for_import_attachments)","@isolated","@import"]},"source":"fe7118cf4f190056.json","parameterValues":[]}