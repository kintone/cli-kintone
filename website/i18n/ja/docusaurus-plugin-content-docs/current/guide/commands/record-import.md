---
sidebar_position: 200
---

# record import

`import`コマンドは、指定されたKintoneアプリにレコードデータをインポートします。

## 例

```shell
cli-kintone record import \
  --base-url https://${yourDomain} \
  --api-token ${apiToken} \
  --app ${kintoneAppId} \
  --file-path ${filepath}
```

## オプション

共通オプションについては、[オプション](/guide/options)ページをご覧ください。

| オプション          | 必須 | 説明                                                                                                                                             |
| ------------------- | ---- | ------------------------------------------------------------------------------------------------------------------------------------------------ |
| `--app`             | はい | アプリのID                                                                                                                                       |
| `--attachments-dir` |      | 添付ファイルディレクトリ                                                                                                                         |
| `--file-path`       | はい | ソースファイルのパス。<br/>ファイル拡張子は「.csv」である必要があります                                                                         |
| `--encoding  `      |      | 文字エンコーディング<br/>デフォルト：`utf8`<br/>エンコーディング：`utf8`および`sjis`                                                              |
| `--update-key`      |      | 一括更新のキー<br/>このオプションが設定されている場合、cli-kintoneはUPSERTモードになります。<br/>詳細は[レコードのアップサート](#レコードのアップサート)セクションをご覧ください。 |
| `--fields  `        |      | カンマ区切りでインポートするフィールド                                                                                                           |

:::note
テーブル内のフィールドは`fields`オプションに指定できません。
:::

## ファイル形式

インポート時、ファイル拡張子（`--file-path`オプションで指定）によって形式が自動的に判断されます。

## 添付フィールドのインポート

レコードに添付フィールドが含まれている場合、`--attachments-dir`オプションが必要です。

- レコード内のローカルファイルパスは、`--attachments-dir`からの相対パスとして扱われます。
  - そこにあるファイルをアップロードします。
- Kintone上のファイル名はローカルと同じになります。

## レコードのアップサート

`--update-key`オプションが設定されている場合、オプション値は「一括更新のキー」としてレコードのインポート（アップサート）に使用されます。

「アップサート」とは、レコードの更新と挿入を同時に行うことを意味します。既存のレコード値と一致するキーを含むデータは、それらのレコードを更新するために使用され、残りのデータは指定されたアプリに新しいレコードとして追加されます。

「一括更新のキー」として指定されるフィールドは、以下のいずれかの要件を満たす必要があります：

- レコード番号フィールドである。
- 「値の重複を禁止する」オプションが有効になっている以下のフィールドタイプのいずれかである：
  - 文字列（1行）
  - 数値

### 注意

- レコード番号フィールドが「一括更新のキー」として指定されている場合、フィールドの値に対象アプリのコードが含まれている場合があります。
- レコード番号フィールドは、「一括更新のキー」として指定されている場合にのみ、更新対象のレコードに対して評価されます。
- 更新対象のレコード内の以下のフィールドは無視されます。
  - 作成者
  - 作成日時
  - 更新者
  - 更新日時
